{"version":3,"sources":["webpack:///./src/pages/goods/goods.js","webpack:///src/components/Swiper.vue","webpack:///./src/components/Swiper.vue?c754","webpack:///./src/components/Swiper.vue","webpack:///./src/modules/js/api.js","webpack:///./src/modules/js/mixin.js"],"names":["id","__WEBPACK_IMPORTED_MODULE_10_qs___default","a","parse","location","search","substr","__WEBPACK_IMPORTED_MODULE_7_vue__","el","data","details","detailsTab","tabIndex","dealLists","bannerLists","skuType","showSku","skuNum","isAddCart","showAddMessage","created","this","getDetails","methods","_this","__WEBPACK_IMPORTED_MODULE_8_axios___default","post","__WEBPACK_IMPORTED_MODULE_9_js_api_js__","then","res","imgs","forEach","item","push","clickUrl","img","changeTab","index","getDeal","_this2","deal","lists","chooseSku","type","changeSkuNum","num","console","log","addCart","_this3","cartAdd","number","status","setTimeout","components","Swiper","__WEBPACK_IMPORTED_MODULE_11_components_Swiper_vue__","watch","val","oldVal","document","documentElement","style","overflow","querySelector","height","mixins","__WEBPACK_IMPORTED_MODULE_12_js_mixin_js__","name","props","Array","required","mounted","init","swiper_esm_bundle","loop","pagination","autoplay","delay","components_Swiper","render","_h","$createElement","_c","_self","staticClass","_l","list","key","attrs","href","src","_v","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","url","hotLists","banner","topList","subList","rank","searchList","cartLists","cartReduce","cartRemove","cartMremove","addressLists","addressAdd","addressRemove","addressUpdate","addressSetDefault","hasOwnProperty","filters","currency","price","priceStr","indexOf","arr","split"],"mappings":"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","file":"static/js/goods.9bcef9ddd6a864f82115.js","sourcesContent":["import './goods_common.css'\r\nimport './goods_custom.css'\r\nimport './goods.css'\r\nimport './goods_theme.css'\r\nimport './goods_mars.css'\r\nimport './goods_sku.css'\r\nimport './goods_transition.css'\r\n\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport url from 'js/api.js'\r\nimport qs from 'qs' //A querystring parser with nesting support\r\nimport Swiper from 'components/Swiper.vue'\r\n\r\n\r\nimport mixin from 'js/mixin.js'\r\n\r\nvar id = qs.parse(location.search.substr(1))\r\n\r\nvar detailsTab = ['商品详情', '本店成交']\r\n\r\nnew Vue({\r\n    el: \"#app\",\r\n    data: {\r\n        id,\r\n        details: null,\r\n        detailsTab,\r\n        tabIndex: 0,\r\n        dealLists: null,\r\n        bannerLists: null, //轮播图\r\n        skuType: 1, //点击“规格”、“加入购物车”、“立即购买”，弹出窗口，“规格”-1、“加入购物车”-2、“立即购买”-3\r\n        showSku: false, //阴影层是否显示\r\n        skuNum: 1, //添加数量\r\n        isAddCart: false, //加入购物车后显示购物车图标\r\n        showAddMessage: false //是否显示加入购物车成功信息\r\n    },\r\n    created() {\r\n        this.getDetails()\r\n    },\r\n    methods: {\r\n        getDetails() {\r\n            axios.post(url.details, { id }).then(res => {\r\n                this.details = res.data.data\r\n                this.bannerLists = []\r\n                this.details.imgs.forEach((item) => {\r\n                    this.bannerLists.push({\r\n                        clickUrl: '',\r\n                        img: item\r\n                    })\r\n                })\r\n            })\r\n        },\r\n        changeTab(index) {\r\n            this.tabIndex = index\r\n            if (index === 1) {\r\n                this.getDeal()\r\n            }\r\n        },\r\n        getDeal() {\r\n            axios.post(url.deal, { id }).then(res => {\r\n                // console.log(res)\r\n                this.dealLists = res.data.data.lists\r\n            })\r\n        },\r\n        chooseSku(type) {\r\n            this.skuType = type\r\n            this.showSku = true\r\n        },\r\n        changeSkuNum(num) {\r\n            console.log(num)\r\n            if (num < 0 && this.skuNum === 1) return;\r\n            this.skuNum += num\r\n        },\r\n        addCart() {\r\n            axios.post(url.cartAdd, {\r\n                id,\r\n                number: this.skuNum\r\n            }).then(res => {\r\n                if (res.data.status === 200) {\r\n                    // console.log('before' + this.showAddMessage)\r\n                    this.showSku = false\r\n                    this.isAddCart = true\r\n                    this.showAddMessage = true\r\n                        // console.log('after' + this.showAddMessage)\r\n\r\n                    setTimeout(() => {\r\n                        this.showAddMessage = false\r\n                    }, 1000)\r\n                }\r\n            })\r\n        }\r\n\r\n    },\r\n    components: {\r\n        Swiper\r\n    },\r\n    watch: {\r\n        showSku(val, oldVal) {\r\n            document.documentElement.style.overflow = val ? 'hidden' : 'auto'\r\n            document.querySelector('html').style.overflow = val ? 'hidden' : 'auto'\r\n            document.documentElement.style.height = val ? '100%' : 'auto'\r\n            document.querySelector('html').style.height = val ? '100%' : 'auto'\r\n        }\r\n    },\r\n    mixins: [mixin]\r\n})\n\n\n// WEBPACK FOOTER //\n// ./src/pages/goods/goods.js","<template>\r\n    <div class=\"swiper-container\">\r\n        <div class=\"swiper-wrapper\">\r\n            <div class=\"swp-page swiper-slide\" v-for=\"list in lists\" v-bind:key=\"list.id\">\r\n                <a class=\"js-no-follow\" v-bind:href=\"list.clickUrl\">\r\n                    <img class=\"goods-main-photo fadeIn\" v-bind:src=\"list.img\">\r\n                </a>\r\n            </div>\r\n        </div>\r\n        <div class=\"swiper-pagination\"></div>\r\n    </div>\r\n</template>\r\n\r\n<style>\r\n.swiper-slide {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n</style>\r\n\r\n<script>\r\n\r\n// swiper对dom节点进行操作的，dom节点是在mounted生成的，所以轮播是在mounted出调用\r\n\r\nimport Swiper from 'swiper'\r\nimport 'swiper/dist/css/swiper.css'\r\n\r\nexport default {\r\n    name: \"swiper\",\r\n    props: {\r\n        lists: {\r\n            type: Array,\r\n            required: true\r\n        },//动态绑定数据\r\n        name: {}//静态绑定数据\r\n    },\r\n\r\n    mounted() {\r\n        this.init()\r\n    },\r\n    methods: {\r\n        init() {\r\n            new Swiper('.swiper-container', {\r\n                loop: true,\r\n                pagination: {\r\n                    el: '.swiper-pagination',\r\n                },\r\n                autoplay: {\r\n                    delay: 5000,\r\n                }\r\n            })\r\n        }\r\n\r\n    },\r\n\r\n    //在规定了props的数据类型时，如果index.html的swiper上没有使用v-if=\"bannerLists\"，\r\n    //则控制台会报错（预期是数组，得到的却是null），因为数据加载是异步的\r\n\r\n    // watch: {\r\n    //   lists(val,oldVal) {\r\n    //     console.log(val,oldVal)\r\n    //     //console.log('before nextTick: ',document.querySelectorAll('.swiper-slide'))\r\n    //     this.$nextTick(() => {\r\n    //       //console.log('after nextTick: ',document.querySelectorAll('.swiper-slide'))\r\n    //       \r\n    //     })\r\n    //   }\r\n    // }\r\n}\r\n</script>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Swiper.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"swiper-container\"},[_c('div',{staticClass:\"swiper-wrapper\"},_vm._l((_vm.lists),function(list){return _c('div',{key:list.id,staticClass:\"swp-page swiper-slide\"},[_c('a',{staticClass:\"js-no-follow\",attrs:{\"href\":list.clickUrl}},[_c('img',{staticClass:\"goods-main-photo fadeIn\",attrs:{\"src\":list.img}})])])})),_vm._v(\" \"),_c('div',{staticClass:\"swiper-pagination\"})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e54e8c08\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Swiper.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e54e8c08\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Swiper.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Swiper.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Swiper.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e54e8c08\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Swiper.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Swiper.vue\n// module id = null\n// module chunks = ","let url = {\r\n    hotLists: '/index/hotLists',\r\n    banner: '/index/banner',\r\n    topList: '/category/topList',\r\n    subList: '/category/subList',\r\n    rank: '/category/rank',\r\n    searchList: '/search/list',\r\n    details: '/goods/details',\r\n    deal: '/goods/deal',\r\n    cartAdd: '/cart/add',\r\n    cartLists: '/cart/list',\r\n    cartReduce: '/cart/reduce',\r\n    cartRemove: '/cart/remove',\r\n    cartMremove: '/cart/mremove',\r\n    addressLists: '/address/list',\r\n    addressAdd: '/address/add',\r\n    addressRemove: '/address/remove',\r\n    addressUpdate: '/address/update',\r\n    addressSetDefault: '/address/setDefault',\r\n\r\n}\r\n\r\nlet host = 'http://rap2api.taobao.org/app/mock/7058'\r\n\r\nfor (let key in url) {\r\n    if (url.hasOwnProperty(key)) {\r\n        url[key] = host + url[key]\r\n\r\n    }\r\n}\r\n\r\nexport default url\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/api.js","let mixin = {\r\n    filters: {\r\n        currency(price) {\r\n            let priceStr = '' + price\r\n            if (priceStr.indexOf('.') > -1) {\r\n                let arr = priceStr.split('.')\r\n                return arr[0] + '.' + (arr[1] + '0').substr(0, 2)\r\n            } else {\r\n                return priceStr + '.00'\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default mixin\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/mixin.js"],"sourceRoot":""}